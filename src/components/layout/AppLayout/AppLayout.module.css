/* AppLayout Component Styles - Mobile-First Responsive Design */
.layout {
	min-height: 100vh;
	min-height: 100dvh; /* Dynamic viewport height for mobile browsers */
	display: flex;
	flex-direction: column;
	background: linear-gradient(135deg, #f0f4ff 0%, #e5f3f0 100%);
	width: 100%;
	max-width: 100vw;
	overflow-x: hidden;
	position: relative;
}

/* Mobile Layout (navigation at bottom) */
.mobileLayout {
	display: flex;
	flex-direction: column;
	min-height: 100vh;
	min-height: 100dvh; /* Dynamic viewport height for mobile browsers */
	width: 100%;
	max-width: 100vw;
	margin: 0;
	position: relative;
	padding-bottom: 72px; /* Mobile nav height + buffer */
	padding-left: var(--spacing-md);
	padding-right: var(--spacing-md);
	overflow-x: hidden;
	overflow-y: auto;
}

/* Small Mobile (320px-480px) */
@media (max-width: 480px) {
	.mobileLayout {
		padding-bottom: 68px;
		padding-left: var(--spacing-sm);
		padding-right: var(--spacing-sm);
	}
}

/* Tablet Portrait and Landscape */
@media (min-width: 481px) and (max-width: 1023px) {
	.mobileLayout {
		padding-bottom: 85px;
		padding-left: var(--spacing-xl);
		padding-right: var(--spacing-xl);
	}
}

/* Desktop: Hide mobile layout */
@media (min-width: 1024px) {
	.mobileLayout {
		display: none;
	}
}

/* Desktop Layout */
.desktopLayout {
	display: none;
}

@media (min-width: 1024px) {
	.desktopLayout {
		display: flex;
		flex-direction: column;
		min-height: 100vh;
		min-height: 100dvh; /* Dynamic viewport height */
		width: 100%;
		max-width: 100vw;
		margin: 0;
		padding-bottom: 0;
		padding-left: var(--spacing-2xl);
		padding-right: var(--spacing-2xl);
		overflow-x: hidden;
		overflow-y: auto;
	}
}

/* Large Desktop Layout */
@media (min-width: 1280px) {
	.desktopLayout {
		padding-left: var(--spacing-3xl);
		padding-right: var(--spacing-3xl);
		max-width: var(--container-xl);
		margin: 0 auto;
	}
}

@media (min-width: 1536px) {
	.desktopLayout {
		padding-left: var(--spacing-4xl);
		padding-right: var(--spacing-4xl);
		max-width: var(--container-2xl);
	}
}

/* Ensure proper stacking context */
.layout {
	position: relative;
	isolation: isolate;
}

/* Content area styling - Proper scrolling coordination */
.mobileLayout > main,
.desktopLayout > main {
	flex: 1;
	display: flex;
	flex-direction: column;
	width: 100%;
	overflow-y: auto;
	overflow-x: hidden;
	min-height: 0;
	/* Ensure main content can scroll smoothly */
	scroll-behavior: smooth;
}

/* Welcome page specific adjustments */
.mobileLayout > main > [class*='WelcomePage'],
.desktopLayout > main > [class*='WelcomePage'] {
	/* WelcomePage component handles its own padding-top for the banner */
	margin-top: 0;
}

/* Other page components that need banner spacing */
.mobileLayout > main > *:not([class*='WelcomePage']):first-child,
.desktopLayout > main > *:not([class*='WelcomePage']):first-child {
	padding-top: calc(var(--spacing-xs) * 2 + var(--font-size-lg) + 1rem);
}

/* Mobile banner spacing adjustments */
@media (max-width: 480px) {
	.mobileLayout > main > *:not([class*='WelcomePage']):first-child {
		padding-top: calc(0.5rem + var(--font-size-base) + 0.8rem);
	}
}

/* Tablet banner spacing adjustments */
@media (min-width: 481px) and (max-width: 1023px) {
	.mobileLayout > main > *:not([class*='WelcomePage']):first-child {
		padding-top: calc(var(--spacing-sm) * 2 + var(--font-size-2xl) + 1.2rem);
	}
}

/* Desktop banner spacing adjustments */
@media (min-width: 1024px) {
	.desktopLayout > main > *:not([class*='WelcomePage']):first-child {
		padding-top: calc(var(--spacing-md) * 2 + var(--font-size-3xl) + 1.5rem);
	}
}

@media (min-width: 1367px) {
	.desktopLayout > main > *:not([class*='WelcomePage']):first-child {
		padding-top: calc(var(--spacing-lg) * 2 + var(--font-size-5xl) + 2rem);
	}
}

/* Desktop: Navigation goes first */
@media (min-width: 1024px) {
	.desktopLayout > nav {
		order: -1;
	}
}

/* Mobile/Tablet: Navigation goes last (but is fixed) */
@media (max-width: 1023px) {
	.mobileLayout > nav {
		order: 999;
	}
}

/* High contrast mode support */
@media (prefers-contrast: high) {
	.layout {
		background: var(--color-bg-primary) !important;
	}
}

/* Smooth scrolling for better UX */
@media (prefers-reduced-motion: no-preference) {
	.mobileLayout,
	.desktopLayout {
		scroll-behavior: smooth;
	}
}

/* Disable smooth scrolling for users who prefer reduced motion */
@media (prefers-reduced-motion: reduce) {
	.mobileLayout,
	.desktopLayout {
		scroll-behavior: auto;
	}
}

/* Print styles */
@media print {
	.layout {
		min-height: auto;
		background: white !important;
	}

	.mobileLayout,
	.desktopLayout {
		display: block !important;
		padding: 1rem !important;
		min-height: auto;
		overflow: visible;
	}

	.mobileLayout > nav,
	.desktopLayout > nav {
		display: none !important;
	}
}
